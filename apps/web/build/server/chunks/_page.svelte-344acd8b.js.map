{"version":3,"file":"_page.svelte-344acd8b.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/_page.svelte.js"],"sourcesContent":["import { c as create_ssr_component, a as subscribe, e as escape, d as each, b as add_attribute } from \"../../chunks/ssr.js\";\nimport { u as usePollingServices } from \"../../chunks/usePollingServices.js\";\nimport { a as isAuthenticated } from \"../../chunks/auth.js\";\nconst _page_svelte_svelte_type_style_lang = \"\";\nconst css = {\n  code: \".dashboard-header.svelte-1qvq1kb.svelte-1qvq1kb{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--space-8)}.dashboard-header.svelte-1qvq1kb h2.svelte-1qvq1kb{color:var(--gray-900);margin:0;font-size:var(--font-size-2xl);font-weight:var(--font-weight-bold)}.legend.svelte-1qvq1kb.svelte-1qvq1kb{display:flex;flex-wrap:wrap;gap:var(--space-6);margin-bottom:var(--space-6);padding:var(--space-4);background:var(--gray-50);border-radius:var(--radius-lg);border:1px solid var(--gray-200)}.legend-item.svelte-1qvq1kb.svelte-1qvq1kb{display:flex;align-items:center;gap:var(--space-2);font-size:var(--font-size-sm);color:var(--gray-600);font-weight:var(--font-weight-medium)}.legend-color.svelte-1qvq1kb.svelte-1qvq1kb{width:16px;height:16px;border-radius:var(--radius-sm);border:1px solid var(--gray-300)}.services-grid.svelte-1qvq1kb.svelte-1qvq1kb{display:grid;grid-template-columns:repeat(auto-fill, minmax(200px, 1fr));gap:var(--space-4)}.service-tile.svelte-1qvq1kb.svelte-1qvq1kb{aspect-ratio:1;display:flex;align-items:center;justify-content:center;border-radius:var(--radius-lg);border:1px solid var(--gray-200);transition:all var(--transition-base);cursor:pointer;outline:none;position:relative;overflow:hidden}.service-tile.svelte-1qvq1kb.svelte-1qvq1kb::before{content:'';position:absolute;inset:0;background:rgba(0, 0, 0, 0.1);opacity:0;transition:opacity var(--transition-base)}.service-tile.svelte-1qvq1kb.svelte-1qvq1kb:hover::before{opacity:1}.service-tile.svelte-1qvq1kb.svelte-1qvq1kb:hover,.service-tile.svelte-1qvq1kb.svelte-1qvq1kb:focus{transform:translateY(-2px);box-shadow:var(--shadow-lg)}.service-tile.svelte-1qvq1kb.svelte-1qvq1kb:focus{box-shadow:var(--shadow-lg), 0 0 0 3px rgb(59 130 246 / 0.15)}.service-name.svelte-1qvq1kb.svelte-1qvq1kb{color:white;font-weight:var(--font-weight-semibold);text-align:center;padding:var(--space-4);text-shadow:0 2px 4px rgba(0, 0, 0, 0.4);word-break:break-word;position:relative;z-index:1}.loading.svelte-1qvq1kb.svelte-1qvq1kb{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:var(--space-4);height:200px;background:var(--gray-50);color:var(--gray-600);font-size:var(--font-size-lg);border-radius:var(--radius-lg);border:1px solid var(--gray-200)}.loading-spinner.svelte-1qvq1kb.svelte-1qvq1kb{width:24px;height:24px;border:3px solid var(--gray-200);border-top:3px solid var(--primary-500);border-radius:50%;animation:svelte-1qvq1kb-spin 1s linear infinite}@keyframes svelte-1qvq1kb-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.empty-state.svelte-1qvq1kb.svelte-1qvq1kb{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:var(--space-8);background:white;border-radius:var(--radius-lg);border:1px solid var(--gray-300);min-height:300px}.empty-state__icon.svelte-1qvq1kb.svelte-1qvq1kb{font-size:var(--space-12);margin-bottom:var(--space-4);opacity:0.6}.empty-state__title.svelte-1qvq1kb.svelte-1qvq1kb{margin:0 0 var(--space-2) 0;font-size:var(--font-size-xl);font-weight:var(--font-weight-semibold);color:var(--gray-900)}.empty-state__description.svelte-1qvq1kb.svelte-1qvq1kb{margin:0 0 var(--space-6) 0;font-size:var(--font-size-base);color:var(--gray-500);max-width:400px}.empty-state__action.svelte-1qvq1kb.svelte-1qvq1kb{margin:0}.service-overlay.svelte-1qvq1kb.svelte-1qvq1kb{position:fixed;z-index:1000;background:white;border-radius:var(--radius-lg);box-shadow:var(--shadow-xl);padding:0;min-width:280px;max-width:400px;transform:translate(-50%, -100%);animation:svelte-1qvq1kb-fadeInUp var(--transition-base) ease-out;border:1px solid var(--gray-200)}.overlay-content.svelte-1qvq1kb.svelte-1qvq1kb{padding:var(--space-4)}.overlay-content.svelte-1qvq1kb h3.svelte-1qvq1kb{margin:0 0 var(--space-3) 0;font-size:var(--font-size-lg);font-weight:var(--font-weight-semibold);color:var(--gray-900);word-break:break-word}.overlay-field.svelte-1qvq1kb.svelte-1qvq1kb{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:var(--space-2);gap:var(--space-3)}.overlay-field.svelte-1qvq1kb.svelte-1qvq1kb:last-child{margin-bottom:0}.overlay-label.svelte-1qvq1kb.svelte-1qvq1kb{font-weight:var(--font-weight-medium);color:var(--gray-600);font-size:var(--font-size-sm);flex-shrink:0;min-width:80px}.overlay-value.svelte-1qvq1kb.svelte-1qvq1kb{color:var(--gray-900);font-size:var(--font-size-sm);text-align:right;word-break:break-all;flex:1}.overlay-value.status-up.svelte-1qvq1kb.svelte-1qvq1kb{color:var(--success-600);font-weight:var(--font-weight-medium)}.overlay-value.status-slow.svelte-1qvq1kb.svelte-1qvq1kb{color:var(--warning-600);font-weight:var(--font-weight-medium)}.overlay-value.status-down.svelte-1qvq1kb.svelte-1qvq1kb{color:var(--error-600);font-weight:var(--font-weight-medium)}.overlay-value.status-unknown.svelte-1qvq1kb.svelte-1qvq1kb{color:var(--gray-500);font-style:italic}@keyframes svelte-1qvq1kb-fadeInUp{from{opacity:0;transform:translate(-50%, -100%) translateY(10px)}to{opacity:1;transform:translate(-50%, -100%) translateY(0)}}@media(max-width: 768px){.services-grid.svelte-1qvq1kb.svelte-1qvq1kb{grid-template-columns:repeat(auto-fill, minmax(150px, 1fr));gap:var(--space-3)}.dashboard-header.svelte-1qvq1kb.svelte-1qvq1kb{flex-direction:column;gap:var(--space-4);align-items:flex-start}.legend.svelte-1qvq1kb.svelte-1qvq1kb{gap:var(--space-4);padding:var(--space-3)}.legend-item.svelte-1qvq1kb.svelte-1qvq1kb{font-size:var(--font-size-xs)}.service-overlay.svelte-1qvq1kb.svelte-1qvq1kb{min-width:260px;max-width:calc(100vw - var(--space-8));margin:0 var(--space-4)}}@media(max-width: 480px){.services-grid.svelte-1qvq1kb.svelte-1qvq1kb{grid-template-columns:repeat(auto-fill, minmax(120px, 1fr));gap:var(--space-2)}.service-name.svelte-1qvq1kb.svelte-1qvq1kb{font-size:var(--font-size-sm);padding:var(--space-2)}.service-overlay.svelte-1qvq1kb.svelte-1qvq1kb{min-width:240px;transform:translate(-50%, -100%)}.overlay-content.svelte-1qvq1kb.svelte-1qvq1kb{padding:var(--space-3)}.overlay-field.svelte-1qvq1kb.svelte-1qvq1kb{gap:var(--space-2);margin-bottom:var(--space-1)}.overlay-label.svelte-1qvq1kb.svelte-1qvq1kb{min-width:70px;font-size:var(--font-size-xs)}.overlay-value.svelte-1qvq1kb.svelte-1qvq1kb{font-size:var(--font-size-xs)}}\",\n  map: null\n};\nfunction truncateName(name, maxLength = 20) {\n  return name.length > maxLength ? name.substring(0, maxLength) + \"...\" : name;\n}\nfunction formatRelativeTime(dateString) {\n  if (!dateString)\n    return \"Never checked\";\n  const date = new Date(dateString);\n  const now = /* @__PURE__ */ new Date();\n  const diffMs = now.getTime() - date.getTime();\n  const diffMinutes = Math.floor(diffMs / (1e3 * 60));\n  if (diffMinutes < 1)\n    return \"Just now\";\n  if (diffMinutes < 60)\n    return `${diffMinutes}m ago`;\n  const diffHours = Math.floor(diffMinutes / 60);\n  if (diffHours < 24)\n    return `${diffHours}h ago`;\n  const diffDays = Math.floor(diffHours / 24);\n  return `${diffDays}d ago`;\n}\nfunction getStatusText(status) {\n  if (!status)\n    return \"Unknown\";\n  return status.charAt(0).toUpperCase() + status.slice(1).toLowerCase();\n}\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let services;\n  let loading;\n  let error;\n  let $state, $$unsubscribe_state;\n  let $isAuthenticated, $$unsubscribe_isAuthenticated;\n  $$unsubscribe_isAuthenticated = subscribe(isAuthenticated, (value) => $isAuthenticated = value);\n  const { state, refresh } = usePollingServices();\n  $$unsubscribe_state = subscribe(state, (value) => $state = value);\n  const statusColors = {\n    \"UP\": \"var(--status-up)\",\n    \"SLOW\": \"var(--status-slow)\",\n    \"DOWN\": \"var(--status-down)\",\n    \"null\": \"var(--status-unknown)\"\n  };\n  function getStatusColor(status) {\n    const key = status ?? \"null\";\n    return statusColors[key] ?? statusColors[\"null\"];\n  }\n  $$result.css.add(css);\n  ({ services, loading, error } = $state);\n  $$unsubscribe_state();\n  $$unsubscribe_isAuthenticated();\n  return `${$$result.head += `<!-- HEAD_svelte-1yae48b_START -->${$$result.title = `<title>Dashboard - pingiMAP</title>`, \"\"}<!-- HEAD_svelte-1yae48b_END -->`, \"\"} <main class=\"container\"><div class=\"dashboard-header svelte-1qvq1kb\"><h2 class=\"svelte-1qvq1kb\" data-svelte-h=\"svelte-1utspdy\">Services Dashboard</h2> <button class=\"btn btn-primary\" title=\"Refresh services\" aria-label=\"Refresh services\" data-svelte-h=\"svelte-107org\">Refresh</button></div> ${loading ? `<div class=\"loading svelte-1qvq1kb\" data-svelte-h=\"svelte-6r7gsq\"><div class=\"loading-spinner svelte-1qvq1kb\" aria-hidden=\"true\"></div>\n      Loading services...</div>` : `${error ? `<div class=\"error\"><div class=\"error-content\"><h3 data-svelte-h=\"svelte-kkj1sw\">Failed to load monitoring data</h3> <p>Error: ${escape(error)}</p></div></div>` : `${services.length === 0 ? `<div class=\"empty-state svelte-1qvq1kb\"><div class=\"empty-state__icon svelte-1qvq1kb\" aria-hidden=\"true\" data-svelte-h=\"svelte-s0v87j\">ðŸ“Š</div> <h3 class=\"empty-state__title svelte-1qvq1kb\" data-svelte-h=\"svelte-1dj9e3v\">No services found</h3> <p class=\"empty-state__description svelte-1qvq1kb\">${$isAuthenticated ? `Add your first service to start monitoring` : `Login to start monitoring services`}</p> ${$isAuthenticated ? `<a href=\"/services\" class=\"empty-state__action btn btn-primary svelte-1qvq1kb\" data-svelte-h=\"svelte-p4tpjs\">Add Service</a>` : ``}</div>` : `${``} <div class=\"services-grid svelte-1qvq1kb\">${each(services, (service) => {\n    return `<div class=\"service-tile svelte-1qvq1kb\" style=\"${\"background-color: \" + escape(getStatusColor(service.lastStatus), true)}\" tabindex=\"0\" role=\"button\" aria-label=\"${\"Service \" + escape(service.name, true) + \": \" + escape(getStatusText(service.lastStatus), true) + \", \" + escape(formatRelativeTime(service.lastCheckedAt), true)}\"><div class=\"service-name svelte-1qvq1kb\"${add_attribute(\"title\", service.name, 0)}>${escape(truncateName(service.name))}</div> </div>`;\n  })}</div>`}`}`}</main> ${``}`;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":"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"}