{"version":3,"file":"_page.svelte-28b7f19e.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/dashboard/_page.svelte.js"],"sourcesContent":["import { c as create_ssr_component, a as subscribe, e as escape, d as each, b as add_attribute } from \"../../../chunks/ssr.js\";\nimport { p as page } from \"../../../chunks/stores.js\";\nimport { u as usePollingServices } from \"../../../chunks/usePollingServices.js\";\nconst _page_svelte_svelte_type_style_lang = \"\";\nconst css = {\n  code: \".top-nav.svelte-mkrsgl.svelte-mkrsgl{background:#2c3e50;color:white;padding:1rem 0;box-shadow:0 2px 4px rgba(0,0,0,0.1)}.nav-container.svelte-mkrsgl.svelte-mkrsgl{max-width:1200px;margin:0 auto;padding:0 2rem;display:flex;justify-content:space-between;align-items:center}.nav-brand.svelte-mkrsgl.svelte-mkrsgl{display:flex;align-items:center;gap:0.75rem}.nav-logo.svelte-mkrsgl.svelte-mkrsgl{height:5rem;width:auto}.app-title.svelte-mkrsgl.svelte-mkrsgl{margin:0;font-size:1.5rem;font-weight:bold}.nav-links.svelte-mkrsgl.svelte-mkrsgl{display:flex;gap:2rem}.nav-links.svelte-mkrsgl a.svelte-mkrsgl{color:white;text-decoration:none;padding:0.5rem 1rem;border-radius:4px;transition:background-color 0.2s}.nav-links.svelte-mkrsgl a.svelte-mkrsgl:hover{background:rgba(255,255,255,0.1)}.nav-links.svelte-mkrsgl a.active.svelte-mkrsgl{background:#3498db}.dashboard.svelte-mkrsgl.svelte-mkrsgl{max-width:1200px;margin:0 auto;padding:2rem}.dashboard-header.svelte-mkrsgl.svelte-mkrsgl{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.dashboard.svelte-mkrsgl h2.svelte-mkrsgl{color:#2c3e50;margin:0}.refresh-btn.svelte-mkrsgl.svelte-mkrsgl{background:#3498db;color:white;border:none;padding:0.75rem 1.25rem;border-radius:6px;cursor:pointer;font-size:0.9rem;font-weight:500;transition:all 0.2s ease;display:flex;align-items:center;gap:0.5rem}.refresh-btn.svelte-mkrsgl.svelte-mkrsgl:hover{background:#2980b9;transform:translateY(-1px);box-shadow:0 2px 8px rgba(52, 152, 219, 0.3)}.refresh-btn.svelte-mkrsgl.svelte-mkrsgl:active{transform:translateY(0)}.legend.svelte-mkrsgl.svelte-mkrsgl{display:flex;flex-wrap:wrap;gap:1.5rem;margin-bottom:1.5rem;padding:1rem;background:#f8f9fa;border-radius:8px;border:1px solid rgba(0, 0, 0, 0.1)}.legend-item.svelte-mkrsgl.svelte-mkrsgl{display:flex;align-items:center;gap:0.5rem;font-size:0.875rem;color:#4a5568;font-weight:500}.legend-color.svelte-mkrsgl.svelte-mkrsgl{width:16px;height:16px;border-radius:4px;border:1px solid rgba(0, 0, 0, 0.2)}.services-grid.svelte-mkrsgl.svelte-mkrsgl{display:grid;grid-template-columns:repeat(auto-fill, minmax(200px, 1fr));gap:1rem}.service-tile.svelte-mkrsgl.svelte-mkrsgl{aspect-ratio:1;display:flex;align-items:center;justify-content:center;border-radius:8px;border:1px solid rgba(0, 0, 0, 0.1);transition:transform 0.2s, box-shadow 0.2s;cursor:pointer;outline:none}.service-tile.svelte-mkrsgl.svelte-mkrsgl:hover,.service-tile.svelte-mkrsgl.svelte-mkrsgl:focus{transform:translateY(-2px);box-shadow:0 4px 12px rgba(0, 0, 0, 0.15)}.service-tile.svelte-mkrsgl.svelte-mkrsgl:focus{box-shadow:0 4px 12px rgba(0, 0, 0, 0.15), 0 0 0 3px rgba(52, 152, 219, 0.3)}.service-name.svelte-mkrsgl.svelte-mkrsgl{color:white;font-weight:600;text-align:center;padding:1rem;text-shadow:0 1px 2px rgba(0, 0, 0, 0.3);word-break:break-word}.loading.svelte-mkrsgl.svelte-mkrsgl,.error.svelte-mkrsgl.svelte-mkrsgl{display:flex;justify-content:center;align-items:center;height:200px;background:#f8f9fa;color:#6c757d;font-size:1.2rem;border-radius:8px;box-shadow:0 2px 4px rgba(0,0,0,0.1)}.error.svelte-mkrsgl.svelte-mkrsgl{background:#fee;color:#c53030}.empty-state.svelte-mkrsgl.svelte-mkrsgl{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:3rem 2rem;background:#f8f9fa;border-radius:8px;box-shadow:0 2px 4px rgba(0,0,0,0.1);text-align:center}.empty-icon.svelte-mkrsgl.svelte-mkrsgl{font-size:3rem;margin-bottom:1.5rem;opacity:0.6}.empty-message.svelte-mkrsgl.svelte-mkrsgl{max-width:400px}.empty-message.svelte-mkrsgl h3.svelte-mkrsgl{margin:0 0 0.75rem 0;color:#2c3e50;font-size:1.25rem;font-weight:600}.empty-message.svelte-mkrsgl p.svelte-mkrsgl{margin:0 0 1.5rem 0;color:#64748b;font-size:1rem;line-height:1.5}.empty-action.svelte-mkrsgl.svelte-mkrsgl{margin-top:0.5rem}.service-overlay.svelte-mkrsgl.svelte-mkrsgl{position:fixed;z-index:1000;background:white;border-radius:8px;box-shadow:0 8px 32px rgba(0, 0, 0, 0.12), 0 2px 6px rgba(0, 0, 0, 0.08);padding:0;min-width:280px;max-width:400px;transform:translate(-50%, -100%);animation:svelte-mkrsgl-fadeInUp 0.2s ease-out;border:1px solid rgba(0, 0, 0, 0.08)}.overlay-content.svelte-mkrsgl.svelte-mkrsgl{padding:16px}.overlay-content.svelte-mkrsgl h3.svelte-mkrsgl{margin:0 0 12px 0;font-size:1.1rem;font-weight:600;color:#2c3e50;word-break:break-word}.overlay-field.svelte-mkrsgl.svelte-mkrsgl{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px;gap:12px}.overlay-field.svelte-mkrsgl.svelte-mkrsgl:last-child{margin-bottom:0}.overlay-label.svelte-mkrsgl.svelte-mkrsgl{font-weight:500;color:#64748b;font-size:0.875rem;flex-shrink:0;min-width:80px}.overlay-value.svelte-mkrsgl.svelte-mkrsgl{color:#1e293b;font-size:0.875rem;text-align:right;word-break:break-all;flex:1}.overlay-value.status-up.svelte-mkrsgl.svelte-mkrsgl{color:#16a34a;font-weight:500}.overlay-value.status-slow.svelte-mkrsgl.svelte-mkrsgl{color:#d97706;font-weight:500}.overlay-value.status-down.svelte-mkrsgl.svelte-mkrsgl{color:#dc2626;font-weight:500}.overlay-value.status-unknown.svelte-mkrsgl.svelte-mkrsgl{color:#64748b;font-style:italic}@keyframes svelte-mkrsgl-fadeInUp{from{opacity:0;transform:translate(-50%, -100%) translateY(10px)}to{opacity:1;transform:translate(-50%, -100%) translateY(0)}}@media(max-width: 768px){.services-grid.svelte-mkrsgl.svelte-mkrsgl{grid-template-columns:repeat(auto-fill, minmax(150px, 1fr));gap:0.75rem}.dashboard.svelte-mkrsgl.svelte-mkrsgl{padding:1rem}.dashboard-header.svelte-mkrsgl.svelte-mkrsgl{flex-direction:column;gap:1rem;align-items:flex-start}.refresh-btn.svelte-mkrsgl.svelte-mkrsgl{font-size:0.8rem;padding:0.6rem 1rem}.legend.svelte-mkrsgl.svelte-mkrsgl{gap:1rem;padding:0.75rem}.legend-item.svelte-mkrsgl.svelte-mkrsgl{font-size:0.8rem}.nav-container.svelte-mkrsgl.svelte-mkrsgl{padding:0 1rem}.nav-links.svelte-mkrsgl.svelte-mkrsgl{gap:1rem}.service-overlay.svelte-mkrsgl.svelte-mkrsgl{min-width:260px;max-width:calc(100vw - 2rem);margin:0 1rem}}@media(max-width: 480px){.services-grid.svelte-mkrsgl.svelte-mkrsgl{grid-template-columns:repeat(auto-fill, minmax(120px, 1fr));gap:0.5rem}.service-name.svelte-mkrsgl.svelte-mkrsgl{font-size:0.9rem;padding:0.5rem}.service-overlay.svelte-mkrsgl.svelte-mkrsgl{min-width:240px;transform:translate(-50%, -100%)}.overlay-content.svelte-mkrsgl.svelte-mkrsgl{padding:12px}.overlay-field.svelte-mkrsgl.svelte-mkrsgl{gap:8px;margin-bottom:6px}.overlay-label.svelte-mkrsgl.svelte-mkrsgl{min-width:70px;font-size:0.8rem}.overlay-value.svelte-mkrsgl.svelte-mkrsgl{font-size:0.8rem}}\",\n  map: null\n};\nfunction truncateName(name, maxLength = 20) {\n  return name.length > maxLength ? name.substring(0, maxLength) + \"...\" : name;\n}\nfunction formatRelativeTime(dateString) {\n  if (!dateString)\n    return \"Never checked\";\n  const date = new Date(dateString);\n  const now = /* @__PURE__ */ new Date();\n  const diffMs = now.getTime() - date.getTime();\n  const diffMinutes = Math.floor(diffMs / (1e3 * 60));\n  if (diffMinutes < 1)\n    return \"Just now\";\n  if (diffMinutes < 60)\n    return `${diffMinutes}m ago`;\n  const diffHours = Math.floor(diffMinutes / 60);\n  if (diffHours < 24)\n    return `${diffHours}h ago`;\n  const diffDays = Math.floor(diffHours / 24);\n  return `${diffDays}d ago`;\n}\nfunction getStatusText(status) {\n  if (!status)\n    return \"Unknown\";\n  return status.charAt(0).toUpperCase() + status.slice(1).toLowerCase();\n}\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let services;\n  let loading;\n  let error;\n  let $state, $$unsubscribe_state;\n  let $page, $$unsubscribe_page;\n  $$unsubscribe_page = subscribe(page, (value) => $page = value);\n  const { state, refresh } = usePollingServices();\n  $$unsubscribe_state = subscribe(state, (value) => $state = value);\n  const statusColors = {\n    \"UP\": \"#22c55e\",\n    \"SLOW\": \"#f59e0b\",\n    \"DOWN\": \"#ef4444\",\n    \"null\": \"#9ca3af\"\n  };\n  function getStatusColor(status) {\n    const key = status ?? \"null\";\n    return statusColors[key] ?? statusColors[\"null\"];\n  }\n  $$result.css.add(css);\n  ({ services, loading, error } = $state);\n  $$unsubscribe_state();\n  $$unsubscribe_page();\n  return `${$$result.head += `<!-- HEAD_svelte-1yae48b_START -->${$$result.title = `<title>Dashboard - pingiMAP</title>`, \"\"}<!-- HEAD_svelte-1yae48b_END -->`, \"\"} <nav class=\"top-nav svelte-mkrsgl\"><div class=\"nav-container svelte-mkrsgl\"><div class=\"nav-brand svelte-mkrsgl\" data-svelte-h=\"svelte-tklqds\"><img src=\"/logo.png\" alt=\"pingiMAP Logo\" class=\"nav-logo svelte-mkrsgl\"></div> <div class=\"nav-links svelte-mkrsgl\"><a href=\"/\" class=\"${[\"svelte-mkrsgl\", $page.url.pathname === \"/\" ? \"active\" : \"\"].join(\" \").trim()}\" data-svelte-h=\"svelte-1cb9f5c\">Dashboard</a> <a href=\"/services\" class=\"${[\n    \"svelte-mkrsgl\",\n    $page.url.pathname.startsWith(\"/services\") ? \"active\" : \"\"\n  ].join(\" \").trim()}\" data-svelte-h=\"svelte-1lo2dff\">Services</a></div></div></nav> <main class=\"dashboard svelte-mkrsgl\"><div class=\"dashboard-header svelte-mkrsgl\"><h2 class=\"svelte-mkrsgl\" data-svelte-h=\"svelte-1utspdy\">Services Dashboard</h2> <button class=\"refresh-btn svelte-mkrsgl\" title=\"Refresh services\" aria-label=\"Refresh services\" data-svelte-h=\"svelte-1w43g05\">Refresh</button></div> ${loading ? `<div class=\"loading svelte-mkrsgl\" data-svelte-h=\"svelte-19m8021\">Loading services...</div>` : `${error ? `<div class=\"error svelte-mkrsgl\"><div class=\"error-content\"><h3 data-svelte-h=\"svelte-kkj1sw\">Failed to load monitoring data</h3> <p>Error: ${escape(error)}</p></div></div>` : `${services.length === 0 ? `<div class=\"empty-state svelte-mkrsgl\" data-svelte-h=\"svelte-g3dhjl\"><div class=\"empty-icon svelte-mkrsgl\">📊</div> <div class=\"empty-message svelte-mkrsgl\"><h3 class=\"svelte-mkrsgl\">No services added yet</h3> <p class=\"svelte-mkrsgl\">Start monitoring your services by adding them first.</p> <a href=\"/services\" class=\"btn btn-primary empty-action svelte-mkrsgl\">Add Service</a></div></div>` : `${``} <div class=\"services-grid svelte-mkrsgl\">${each(services, (service) => {\n    return `<div class=\"service-tile svelte-mkrsgl\" style=\"${\"background-color: \" + escape(getStatusColor(service.lastStatus), true)}\" tabindex=\"0\" role=\"button\" aria-label=\"${\"Service \" + escape(service.name, true) + \": \" + escape(getStatusText(service.lastStatus), true) + \", \" + escape(formatRelativeTime(service.lastCheckedAt), true)}\"><div class=\"service-name svelte-mkrsgl\"${add_attribute(\"title\", service.name, 0)}>${escape(truncateName(service.name))}</div> </div>`;\n  })}</div>`}`}`}</main> ${``}`;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":"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"}