import{s as He,n as De,c as Je,o as Ge,r as ke}from"../chunks/scheduler.b5ecf4e6.js";import{S as We,i as Ye,s as T,e as Oe,F as Ke,f as h,c as I,a as he,g as a,h as o,j as p,x as Q,k as s,y as t,A as G,m as te,n as le,z as be,B as Fe,o as ve}from"../chunks/index.7d6cf7e9.js";import{g as Qe,e as Le,u as Xe,d as Ze}from"../chunks/each.0775bae0.js";import{j as xe}from"../chunks/singletons.3e15eff3.js";import{d as ge,a as $e}from"../chunks/auth.34428d7b.js";const Ve=xe("goto");const{document:Ae}=Qe;function Pe(i,l,e){const n=i.slice();return n[40]=l[e],n}function et(i){let l,e,n,_="üîê Authentication Required",f,r,u="This page is restricted to administrators only.",b,m,S="Please log in to access the services management.",N,E,z="Back to Dashboard",d,v;return{c(){l=a("main"),e=a("div"),n=a("h1"),n.textContent=_,f=T(),r=a("p"),r.textContent=u,b=T(),m=a("p"),m.textContent=S,N=T(),E=a("button"),E.textContent=z,this.h()},l(U){l=o(U,"MAIN",{class:!0});var D=p(l);e=o(D,"DIV",{class:!0});var g=p(e);n=o(g,"H1",{class:!0,"data-svelte-h":!0}),Q(n)!=="svelte-7h0450"&&(n.textContent=_),f=I(g),r=o(g,"P",{class:!0,"data-svelte-h":!0}),Q(r)!=="svelte-9rynvj"&&(r.textContent=u),b=I(g),m=o(g,"P",{class:!0,"data-svelte-h":!0}),Q(m)!=="svelte-879pbo"&&(m.textContent=S),N=I(g),E=o(g,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(E)!=="svelte-13rrqpx"&&(E.textContent=z),g.forEach(h),D.forEach(h),this.h()},h(){s(n,"class","svelte-1o6bhzl"),s(r,"class","svelte-1o6bhzl"),s(m,"class","svelte-1o6bhzl"),s(E,"class","btn btn-primary"),s(e,"class","auth-required svelte-1o6bhzl"),s(l,"class","container")},m(U,D){he(U,l,D),t(l,e),t(e,n),t(e,f),t(e,r),t(e,b),t(e,m),t(e,N),t(e,E),d||(v=G(E,"click",i[37]),d=!0)},p:De,d(U){U&&h(l),d=!1,v()}}}function tt(i){let l,e,n="Services",_,f,r,u="Add Service",b,m,S,N,E="Name",z,d,v,U,D,g="URL",W,k,y,L,F=i[3]?"Adding...":"Add Service",B,J,O,R,H,A,w=i[0].length+"",C,Y,X,q,M,$,se,ue,ce,re="Import",ne,de,c,P,ee,K,fe;function me(V,j){return V[0].length===0?st:lt}let pe=me(i),ae=pe(i),Z=i[5].show&&je(i),x=i[8].show&&Re(i),oe=i[6].show&&qe(i),ie=i[4].show&&Me(i);return{c(){l=a("main"),e=a("h1"),e.textContent=n,_=T(),f=a("div"),r=a("h2"),r.textContent=u,b=T(),m=a("form"),S=a("div"),N=a("label"),N.textContent=E,z=T(),d=a("input"),v=T(),U=a("div"),D=a("label"),D.textContent=g,W=T(),k=a("input"),y=T(),L=a("button"),B=te(F),J=T(),O=a("div"),R=a("div"),H=a("h2"),A=te("Services ("),C=te(w),Y=te(")"),X=T(),q=a("div"),M=a("button"),$=te("Export"),ue=T(),ce=a("button"),ce.textContent=re,ne=T(),ae.c(),de=T(),Z&&Z.c(),c=T(),x&&x.c(),P=T(),oe&&oe.c(),ee=T(),ie&&ie.c(),this.h()},l(V){l=o(V,"MAIN",{class:!0});var j=p(l);e=o(j,"H1",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-u6uijw"&&(e.textContent=n),_=I(j),f=o(j,"DIV",{class:!0});var ye=p(f);r=o(ye,"H2",{class:!0,"data-svelte-h":!0}),Q(r)!=="svelte-4zooqe"&&(r.textContent=u),b=I(ye),m=o(ye,"FORM",{});var _e=p(m);S=o(_e,"DIV",{class:!0});var Ee=p(S);N=o(Ee,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Q(N)!=="svelte-17mpp60"&&(N.textContent=E),z=I(Ee),d=o(Ee,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),Ee.forEach(h),v=I(_e),U=o(_e,"DIV",{class:!0});var Ce=p(U);D=o(Ce,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Q(D)!=="svelte-1mqp4lm"&&(D.textContent=g),W=I(Ce),k=o(Ce,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),Ce.forEach(h),y=I(_e),L=o(_e,"BUTTON",{type:!0,class:!0});var Ne=p(L);B=le(Ne,F),Ne.forEach(h),_e.forEach(h),ye.forEach(h),J=I(j),O=o(j,"DIV",{class:!0});var ze=p(O);R=o(ze,"DIV",{class:!0});var we=p(R);H=o(we,"H2",{class:!0});var Te=p(H);A=le(Te,"Services ("),C=le(Te,w),Y=le(Te,")"),Te.forEach(h),X=I(we),q=o(we,"DIV",{class:!0});var Ie=p(q);M=o(Ie,"BUTTON",{class:!0,title:!0});var Ue=p(M);$=le(Ue,"Export"),Ue.forEach(h),ue=I(Ie),ce=o(Ie,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),Q(ce)!=="svelte-1b70xhm"&&(ce.textContent=re),Ie.forEach(h),we.forEach(h),ne=I(ze),ae.l(ze),ze.forEach(h),de=I(j),Z&&Z.l(j),c=I(j),x&&x.l(j),P=I(j),oe&&oe.l(j),ee=I(j),ie&&ie.l(j),j.forEach(h),this.h()},h(){s(e,"class","svelte-1o6bhzl"),s(r,"class","svelte-1o6bhzl"),s(N,"for","name"),s(N,"class","form-label"),s(d,"type","text"),s(d,"id","name"),s(d,"class","form-input"),s(d,"placeholder","Enter service name"),d.required=!0,s(S,"class","form-group"),s(D,"for","url"),s(D,"class","form-label"),s(k,"type","url"),s(k,"id","url"),s(k,"class","form-input"),s(k,"placeholder","https://example.com"),k.required=!0,s(U,"class","form-group"),s(L,"type","submit"),s(L,"class","btn btn-primary"),L.disabled=i[3],s(f,"class","card svelte-1o6bhzl"),s(H,"class","svelte-1o6bhzl"),s(M,"class","btn btn-secondary btn-sm svelte-1o6bhzl"),M.disabled=se=i[0].length===0,s(M,"title","Export services to JSON file"),s(ce,"class","btn btn-secondary btn-sm svelte-1o6bhzl"),s(ce,"title","Import services from JSON file"),s(q,"class","services-actions svelte-1o6bhzl"),s(R,"class","services-header svelte-1o6bhzl"),s(O,"class","card svelte-1o6bhzl"),s(l,"class","container")},m(V,j){he(V,l,j),t(l,e),t(l,_),t(l,f),t(f,r),t(f,b),t(f,m),t(m,S),t(S,N),t(S,z),t(S,d),be(d,i[1]),t(m,v),t(m,U),t(U,D),t(U,W),t(U,k),be(k,i[2]),t(m,y),t(m,L),t(L,B),t(l,J),t(l,O),t(O,R),t(R,H),t(H,A),t(H,C),t(H,Y),t(R,X),t(R,q),t(q,M),t(M,$),t(q,ue),t(q,ce),t(O,ne),ae.m(O,null),t(l,de),Z&&Z.m(l,null),t(l,c),x&&x.m(l,null),t(l,P),oe&&oe.m(l,null),t(l,ee),ie&&ie.m(l,null),K||(fe=[G(d,"input",i[24]),G(k,"input",i[25]),G(m,"submit",Fe(i[12])),G(M,"click",i[19]),G(ce,"click",i[15])],K=!0)},p(V,j){j[0]&2&&d.value!==V[1]&&be(d,V[1]),j[0]&4&&k.value!==V[2]&&be(k,V[2]),j[0]&8&&F!==(F=V[3]?"Adding...":"Add Service")&&ve(B,F),j[0]&8&&(L.disabled=V[3]),j[0]&1&&w!==(w=V[0].length+"")&&ve(C,w),j[0]&1&&se!==(se=V[0].length===0)&&(M.disabled=se),pe===(pe=me(V))&&ae?ae.p(V,j):(ae.d(1),ae=pe(V),ae&&(ae.c(),ae.m(O,null))),V[5].show?Z?Z.p(V,j):(Z=je(V),Z.c(),Z.m(l,c)):Z&&(Z.d(1),Z=null),V[8].show?x?x.p(V,j):(x=Re(V),x.c(),x.m(l,P)):x&&(x.d(1),x=null),V[6].show?oe?oe.p(V,j):(oe=qe(V),oe.c(),oe.m(l,ee)):oe&&(oe.d(1),oe=null),V[4].show?ie?ie.p(V,j):(ie=Me(V),ie.c(),ie.m(l,null)):ie&&(ie.d(1),ie=null)},d(V){V&&h(l),ae.d(),Z&&Z.d(),x&&x.d(),oe&&oe.d(),ie&&ie.d(),K=!1,ke(fe)}}}function lt(i){let l,e=[],n=new Map,_=Le(i[0]);const f=r=>r[40].id;for(let r=0;r<_.length;r+=1){let u=Pe(i,_,r),b=f(u);n.set(b,e[r]=Be(b,u))}return{c(){l=a("div");for(let r=0;r<e.length;r+=1)e[r].c();this.h()},l(r){l=o(r,"DIV",{class:!0});var u=p(l);for(let b=0;b<e.length;b+=1)e[b].l(u);u.forEach(h),this.h()},h(){s(l,"class","services-list svelte-1o6bhzl")},m(r,u){he(r,l,u);for(let b=0;b<e.length;b+=1)e[b]&&e[b].m(l,null)},p(r,u){u[0]&139265&&(_=Le(r[0]),e=Xe(e,u,f,1,r,_,n,l,Ze,Be,null,Pe))},d(r){r&&h(l);for(let u=0;u<e.length;u+=1)e[u].d()}}}function st(i){let l,e='<div class="empty-icon svelte-1o6bhzl" aria-hidden="true">üìã</div> <p class="svelte-1o6bhzl">No services added yet.</p> <p class="text-sm text-gray-500 svelte-1o6bhzl">Add your first service above to get started monitoring.</p>';return{c(){l=a("div"),l.innerHTML=e,this.h()},l(n){l=o(n,"DIV",{class:!0,"data-svelte-h":!0}),Q(l)!=="svelte-1vsw9kz"&&(l.innerHTML=e),this.h()},h(){s(l,"class","empty-state svelte-1o6bhzl")},m(n,_){he(n,l,_)},p:De,d(n){n&&h(l)}}}function Be(i,l){let e,n,_,f=l[40].name+"",r,u,b,m=l[40].url+"",S,N,E,z,d,v,U="‚úèÔ∏è",D,g,W,k,y,L="üóëÔ∏è",F,B,J,O,R;function H(){return l[26](l[40])}function A(){return l[27](l[40])}return{key:i,first:null,c(){e=a("div"),n=a("div"),_=a("h3"),r=te(f),u=T(),b=a("a"),S=te(m),E=T(),z=a("div"),d=a("button"),v=a("span"),v.textContent=U,W=T(),k=a("button"),y=a("span"),y.textContent=L,J=T(),this.h()},l(w){e=o(w,"DIV",{class:!0});var C=p(e);n=o(C,"DIV",{class:!0});var Y=p(n);_=o(Y,"H3",{class:!0});var X=p(_);r=le(X,f),X.forEach(h),u=I(Y),b=o(Y,"A",{href:!0,target:!0,rel:!0,class:!0});var q=p(b);S=le(q,m),q.forEach(h),Y.forEach(h),E=I(C),z=o(C,"DIV",{class:!0});var M=p(z);d=o(M,"BUTTON",{class:!0,"aria-label":!0,title:!0});var $=p(d);v=o($,"SPAN",{"aria-hidden":!0,"data-svelte-h":!0}),Q(v)!=="svelte-1v3xnpr"&&(v.textContent=U),$.forEach(h),W=I(M),k=o(M,"BUTTON",{class:!0,"aria-label":!0,title:!0});var se=p(k);y=o(se,"SPAN",{"aria-hidden":!0,"data-svelte-h":!0}),Q(y)!=="svelte-9ziyz6"&&(y.textContent=L),se.forEach(h),M.forEach(h),J=I(C),C.forEach(h),this.h()},h(){s(_,"class","svelte-1o6bhzl"),s(b,"href",N=l[40].url),s(b,"target","_blank"),s(b,"rel","noopener noreferrer"),s(b,"class","service-url svelte-1o6bhzl"),s(n,"class","service-info svelte-1o6bhzl"),s(v,"aria-hidden","true"),s(d,"class","btn-icon btn-edit-ghost svelte-1o6bhzl"),s(d,"aria-label",D="Edit "+l[40].name),s(d,"title",g="Edit "+l[40].name),s(y,"aria-hidden","true"),s(k,"class","btn-icon btn-danger-ghost svelte-1o6bhzl"),s(k,"aria-label",F="Delete "+l[40].name),s(k,"title",B="Delete "+l[40].name),s(z,"class","service-actions svelte-1o6bhzl"),s(e,"class","service-item svelte-1o6bhzl"),this.first=e},m(w,C){he(w,e,C),t(e,n),t(n,_),t(_,r),t(n,u),t(n,b),t(b,S),t(e,E),t(e,z),t(z,d),t(d,v),t(z,W),t(z,k),t(k,y),t(e,J),O||(R=[G(d,"click",H),G(k,"click",A)],O=!0)},p(w,C){l=w,C[0]&1&&f!==(f=l[40].name+"")&&ve(r,f),C[0]&1&&m!==(m=l[40].url+"")&&ve(S,m),C[0]&1&&N!==(N=l[40].url)&&s(b,"href",N),C[0]&1&&D!==(D="Edit "+l[40].name)&&s(d,"aria-label",D),C[0]&1&&g!==(g="Edit "+l[40].name)&&s(d,"title",g),C[0]&1&&F!==(F="Delete "+l[40].name)&&s(k,"aria-label",F),C[0]&1&&B!==(B="Delete "+l[40].name)&&s(k,"title",B)},d(w){w&&h(e),O=!1,ke(R)}}}function je(i){let l,e,n,_='<h3 id="dialog-title" class="svelte-1o6bhzl">Delete Service</h3>',f,r,u,b,m,S=i[5].serviceName+"",N,E,z,d,v="This action cannot be undone.",U,D,g,W="Cancel",k,y,L,F,B,J;return{c(){l=a("button"),e=a("div"),n=a("div"),n.innerHTML=_,f=T(),r=a("div"),u=a("p"),b=te("Are you sure you want to delete "),m=a("strong"),N=te(S),E=te("?"),z=T(),d=a("p"),d.textContent=v,U=T(),D=a("div"),g=a("button"),g.textContent=W,k=T(),y=a("button"),L=te("Delete"),this.h()},l(O){l=o(O,"BUTTON",{class:!0,"aria-label":!0});var R=p(l);e=o(R,"DIV",{class:!0,role:!0});var H=p(e);n=o(H,"DIV",{class:!0,"data-svelte-h":!0}),Q(n)!=="svelte-ojjys5"&&(n.innerHTML=_),f=I(H),r=o(H,"DIV",{class:!0});var A=p(r);u=o(A,"P",{class:!0});var w=p(u);b=le(w,"Are you sure you want to delete "),m=o(w,"STRONG",{});var C=p(m);N=le(C,S),C.forEach(h),E=le(w,"?"),w.forEach(h),z=I(A),d=o(A,"P",{class:!0,"data-svelte-h":!0}),Q(d)!=="svelte-11835e"&&(d.textContent=v),A.forEach(h),U=I(H),D=o(H,"DIV",{class:!0});var Y=p(D);g=o(Y,"BUTTON",{class:!0,"aria-label":!0,"data-svelte-h":!0}),Q(g)!=="svelte-1q9vkem"&&(g.textContent=W),k=I(Y),y=o(Y,"BUTTON",{class:!0,"aria-label":!0});var X=p(y);L=le(X,"Delete"),X.forEach(h),Y.forEach(h),H.forEach(h),R.forEach(h),this.h()},h(){s(n,"class","dialog-header svelte-1o6bhzl"),s(u,"class","svelte-1o6bhzl"),s(d,"class","warning-text svelte-1o6bhzl"),s(r,"class","dialog-body svelte-1o6bhzl"),s(g,"class","btn btn-secondary"),s(g,"aria-label","Cancel deletion"),s(y,"class","btn btn-danger"),s(y,"aria-label",F="Confirm deletion of "+i[5].serviceName),s(D,"class","dialog-actions svelte-1o6bhzl"),s(e,"class","dialog svelte-1o6bhzl"),s(e,"role","alertdialog"),s(l,"class","dialog-backdrop svelte-1o6bhzl"),s(l,"aria-label","Close dialog")},m(O,R){he(O,l,R),t(l,e),t(e,n),t(e,f),t(e,r),t(r,u),t(u,b),t(u,m),t(m,N),t(u,E),t(r,z),t(r,d),t(e,U),t(e,D),t(D,g),t(D,k),t(D,y),t(y,L),B||(J=[G(g,"click",i[14]),G(y,"click",i[28]),G(l,"click",i[29]),G(l,"keydown",i[30])],B=!0)},p(O,R){R[0]&32&&S!==(S=O[5].serviceName+"")&&ve(N,S),R[0]&32&&F!==(F="Confirm deletion of "+O[5].serviceName)&&s(y,"aria-label",F)},d(O){O&&h(l),B=!1,ke(J)}}}function Re(i){let l,e,n,_='<h3 id="edit-dialog-title" class="svelte-1o6bhzl">Edit Service</h3>',f,r,u,b,m,S="Name",N,E,z,d,v,U="URL",D,g,W,k,y,L,F,B,J=i[3]?"Updating...":"Update",O,R,H;return{c(){l=a("button"),e=a("div"),n=a("div"),n.innerHTML=_,f=T(),r=a("div"),u=a("form"),b=a("div"),m=a("label"),m.textContent=S,N=T(),E=a("input"),z=T(),d=a("div"),v=a("label"),v.textContent=U,D=T(),g=a("input"),W=T(),k=a("div"),y=a("button"),L=te("Cancel"),F=T(),B=a("button"),O=te(J),this.h()},l(A){l=o(A,"BUTTON",{class:!0,"aria-label":!0});var w=p(l);e=o(w,"DIV",{class:!0,role:!0});var C=p(e);n=o(C,"DIV",{class:!0,"data-svelte-h":!0}),Q(n)!=="svelte-wztk89"&&(n.innerHTML=_),f=I(C),r=o(C,"DIV",{class:!0});var Y=p(r);u=o(Y,"FORM",{});var X=p(u);b=o(X,"DIV",{class:!0});var q=p(b);m=o(q,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Q(m)!=="svelte-4ai0nx"&&(m.textContent=S),N=I(q),E=o(q,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),q.forEach(h),z=I(X),d=o(X,"DIV",{class:!0});var M=p(d);v=o(M,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Q(v)!=="svelte-1h13qnv"&&(v.textContent=U),D=I(M),g=o(M,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),M.forEach(h),X.forEach(h),Y.forEach(h),W=I(C),k=o(C,"DIV",{class:!0});var $=p(k);y=o($,"BUTTON",{class:!0});var se=p(y);L=le(se,"Cancel"),se.forEach(h),F=I($),B=o($,"BUTTON",{class:!0});var ue=p(B);O=le(ue,J),ue.forEach(h),$.forEach(h),C.forEach(h),w.forEach(h),this.h()},h(){s(n,"class","dialog-header svelte-1o6bhzl"),s(m,"for","edit-name"),s(m,"class","form-label"),s(E,"type","text"),s(E,"id","edit-name"),s(E,"class","form-input"),s(E,"placeholder","Enter service name"),E.required=!0,s(b,"class","form-group"),s(v,"for","edit-url"),s(v,"class","form-label"),s(g,"type","url"),s(g,"id","edit-url"),s(g,"class","form-input"),s(g,"placeholder","https://example.com"),g.required=!0,s(d,"class","form-group"),s(r,"class","dialog-body svelte-1o6bhzl"),s(y,"class","btn btn-secondary"),y.disabled=i[3],s(B,"class","btn btn-primary"),B.disabled=i[3],s(k,"class","dialog-actions svelte-1o6bhzl"),s(e,"class","dialog svelte-1o6bhzl"),s(e,"role","dialog"),s(l,"class","dialog-backdrop svelte-1o6bhzl"),s(l,"aria-label","Close dialog")},m(A,w){he(A,l,w),t(l,e),t(e,n),t(e,f),t(e,r),t(r,u),t(u,b),t(b,m),t(b,N),t(b,E),be(E,i[9]),t(u,z),t(u,d),t(d,v),t(d,D),t(d,g),be(g,i[10]),t(e,W),t(e,k),t(k,y),t(y,L),t(k,F),t(k,B),t(B,O),R||(H=[G(E,"input",i[31]),G(g,"input",i[32]),G(u,"submit",Fe(i[21])),G(y,"click",i[18]),G(B,"click",i[21]),G(l,"click",i[33]),G(l,"keydown",i[34])],R=!0)},p(A,w){w[0]&512&&E.value!==A[9]&&be(E,A[9]),w[0]&1024&&g.value!==A[10]&&be(g,A[10]),w[0]&8&&(y.disabled=A[3]),w[0]&8&&J!==(J=A[3]?"Updating...":"Update")&&ve(O,J),w[0]&8&&(B.disabled=A[3])},d(A){A&&h(l),R=!1,ke(H)}}}function qe(i){let l,e,n,_='<h3 id="import-dialog-title" class="svelte-1o6bhzl">Import Services</h3>',f,r,u,b="Select a JSON file containing your services to import.",m,S,N="Services with duplicate URLs will be skipped.",E,z,d,v,U,D=(i[7]?i[7].name:"Choose JSON file...")+"",g,W,k,y,L,F="Expected format",B,J,O,R=`[
  {
    "name": "Example Service",
    "url": "https://example.com"
  },
  {
    "name": "Another Service",
    "url": "https://another.com"
  }
]`,H,A,w,C,Y,X,q,M=i[3]?"Importing...":"Import",$,se,ue,ce;return{c(){l=a("button"),e=a("div"),n=a("div"),n.innerHTML=_,f=T(),r=a("div"),u=a("p"),u.textContent=b,m=T(),S=a("p"),S.textContent=N,E=T(),z=a("div"),d=a("input"),v=T(),U=a("label"),g=te(D),W=T(),k=a("div"),y=a("details"),L=a("summary"),L.textContent=F,B=T(),J=a("pre"),O=a("code"),H=te(R),A=T(),w=a("div"),C=a("button"),Y=te("Cancel"),X=T(),q=a("button"),$=te(M),this.h()},l(re){l=o(re,"BUTTON",{class:!0,"aria-label":!0});var ne=p(l);e=o(ne,"DIV",{class:!0,role:!0});var de=p(e);n=o(de,"DIV",{class:!0,"data-svelte-h":!0}),Q(n)!=="svelte-14sullk"&&(n.innerHTML=_),f=I(de),r=o(de,"DIV",{class:!0});var c=p(r);u=o(c,"P",{class:!0,"data-svelte-h":!0}),Q(u)!=="svelte-1ib2bvs"&&(u.textContent=b),m=I(c),S=o(c,"P",{class:!0,"data-svelte-h":!0}),Q(S)!=="svelte-1wqj10u"&&(S.textContent=N),E=I(c),z=o(c,"DIV",{class:!0});var P=p(z);d=o(P,"INPUT",{type:!0,id:!0,accept:!0,class:!0}),v=I(P),U=o(P,"LABEL",{for:!0,class:!0});var ee=p(U);g=le(ee,D),ee.forEach(h),P.forEach(h),W=I(c),k=o(c,"DIV",{class:!0});var K=p(k);y=o(K,"DETAILS",{class:!0});var fe=p(y);L=o(fe,"SUMMARY",{class:!0,"data-svelte-h":!0}),Q(L)!=="svelte-hcy2l8"&&(L.textContent=F),B=I(fe),J=o(fe,"PRE",{class:!0});var me=p(J);O=o(me,"CODE",{class:!0});var pe=p(O);H=le(pe,R),pe.forEach(h),me.forEach(h),fe.forEach(h),K.forEach(h),c.forEach(h),A=I(de),w=o(de,"DIV",{class:!0});var ae=p(w);C=o(ae,"BUTTON",{class:!0});var Z=p(C);Y=le(Z,"Cancel"),Z.forEach(h),X=I(ae),q=o(ae,"BUTTON",{class:!0});var x=p(q);$=le(x,M),x.forEach(h),ae.forEach(h),de.forEach(h),ne.forEach(h),this.h()},h(){s(n,"class","dialog-header svelte-1o6bhzl"),s(u,"class","svelte-1o6bhzl"),s(S,"class","text-sm text-gray-500 mb-4 svelte-1o6bhzl"),s(d,"type","file"),s(d,"id","import-file"),s(d,"accept",".json,application/json"),s(d,"class","file-input svelte-1o6bhzl"),s(U,"for","import-file"),s(U,"class","file-input-label svelte-1o6bhzl"),s(z,"class","file-input-wrapper svelte-1o6bhzl"),s(L,"class","cursor-pointer text-gray-600 hover:text-gray-800 svelte-1o6bhzl"),s(O,"class","svelte-1o6bhzl"),s(J,"class","bg-gray-100 p-3 mt-2 rounded text-xs overflow-x-auto svelte-1o6bhzl"),s(y,"class","text-sm svelte-1o6bhzl"),s(k,"class","mt-4 svelte-1o6bhzl"),s(r,"class","dialog-body svelte-1o6bhzl"),s(C,"class","btn btn-secondary"),C.disabled=i[3],s(q,"class","btn btn-primary"),q.disabled=se=!i[7]||i[3],s(w,"class","dialog-actions svelte-1o6bhzl"),s(e,"class","dialog svelte-1o6bhzl"),s(e,"role","dialog"),s(l,"class","dialog-backdrop svelte-1o6bhzl"),s(l,"aria-label","Close dialog")},m(re,ne){he(re,l,ne),t(l,e),t(e,n),t(e,f),t(e,r),t(r,u),t(r,m),t(r,S),t(r,E),t(r,z),t(z,d),t(z,v),t(z,U),t(U,g),t(r,W),t(r,k),t(k,y),t(y,L),t(y,B),t(y,J),t(J,O),t(O,H),t(e,A),t(e,w),t(w,C),t(C,Y),t(w,X),t(w,q),t(q,$),ue||(ce=[G(d,"change",i[20]),G(C,"click",i[16]),G(q,"click",i[22]),G(l,"click",i[35]),G(l,"keydown",i[36])],ue=!0)},p(re,ne){ne[0]&128&&D!==(D=(re[7]?re[7].name:"Choose JSON file...")+"")&&ve(g,D),ne[0]&8&&(C.disabled=re[3]),ne[0]&8&&M!==(M=re[3]?"Importing...":"Import")&&ve($,M),ne[0]&136&&se!==(se=!re[7]||re[3])&&(q.disabled=se)},d(re){re&&h(l),ue=!1,ke(ce)}}}function Me(i){let l,e=i[4].message+"",n,_;return{c(){l=a("div"),n=te(e),this.h()},l(f){l=o(f,"DIV",{class:!0});var r=p(l);n=le(r,e),r.forEach(h),this.h()},h(){s(l,"class",_="toast toast-"+i[4].type+" svelte-1o6bhzl")},m(f,r){he(f,l,r),t(l,n)},p(f,r){r[0]&16&&e!==(e=f[4].message+"")&&ve(n,e),r[0]&16&&_!==(_="toast toast-"+f[4].type+" svelte-1o6bhzl")&&s(l,"class",_)},d(f){f&&h(l)}}}function rt(i){let l,e;function n(r,u){return r[11]?tt:et}let _=n(i),f=_(i);return{c(){l=T(),f.c(),e=Oe(),this.h()},l(r){Ke("svelte-z29onn",Ae.head).forEach(h),l=I(r),f.l(r),e=Oe(),this.h()},h(){Ae.title="Services - pingiMAP"},m(r,u){he(r,l,u),f.m(r,u),he(r,e,u)},p(r,u){_===(_=n(r))&&f?f.p(r,u):(f.d(1),f=_(r),f&&(f.c(),f.m(e.parentNode,e)))},i:De,o:De,d(r){r&&(h(l),h(e)),f.d(r)}}}function Se(i){try{return new URL(i),!0}catch{return!1}}function at(i,l,e){let n;Je(i,$e,c=>e(11,n=c));let _=[],f="",r="",u=!1,b={show:!1,message:"",type:"success"},m={show:!1,serviceId:"",serviceName:""},S={show:!1},N=null,E={show:!1,service:null},z="",d="";function v(c,P){e(4,b={show:!0,message:c,type:P}),setTimeout(()=>{e(4,b.show=!1,b)},3e3)}async function U(){try{const c=await ge("/api/services");c.ok&&e(0,_=await c.json())}catch(c){console.error("Failed to load services:",c)}}async function D(){if(!f.trim()){v("Name is required","error");return}if(!r.trim()){v("URL is required","error");return}if(!Se(r)){v("Please enter a valid URL","error");return}e(3,u=!0);try{const c=await ge("/api/services",{method:"POST",body:JSON.stringify({name:f.trim(),url:r.trim()})});if(c.ok)v("Service added successfully","success"),e(1,f=""),e(2,r=""),await U();else{const P=await c.json();v(P.message||"Failed to add service","error")}}catch{v("Failed to add service","error")}finally{e(3,u=!1)}}function g(c,P){e(5,m={show:!0,serviceId:c,serviceName:P})}function W(){e(5,m={show:!1,serviceId:"",serviceName:""})}function k(){e(6,S={show:!0}),e(7,N=null)}function y(){e(6,S={show:!1}),e(7,N=null)}function L(c){e(8,E={show:!0,service:c}),e(9,z=c.name),e(10,d=c.url)}function F(){e(8,E={show:!1,service:null}),e(9,z=""),e(10,d="")}function B(){const c=_.map(fe=>({name:fe.name,url:fe.url})),P=new Blob([JSON.stringify(c,null,2)],{type:"application/json"}),ee=URL.createObjectURL(P),K=document.createElement("a");K.href=ee,K.download=`services-export-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(K),K.click(),document.body.removeChild(K),URL.revokeObjectURL(ee),v("Services exported successfully","success")}function J(c){const P=c.target;P.files&&P.files.length>0&&e(7,N=P.files[0])}async function O(){if(E.service){if(!z.trim()){v("Name is required","error");return}if(!d.trim()){v("URL is required","error");return}if(!Se(d)){v("Please enter a valid URL","error");return}e(3,u=!0);try{const c=await ge(`/api/services/${E.service.id}`,{method:"PUT",body:JSON.stringify({name:z.trim(),url:d.trim()})});if(c.ok)v("Service updated successfully","success"),F(),await U();else{const P=await c.json();v(P.message||"Failed to update service","error")}}catch{v("Failed to update service","error")}finally{e(3,u=!1)}}}async function R(){if(!N){v("Please select a file to import","error");return}if(!N.name.endsWith(".json")){v("Please select a JSON file","error");return}try{const c=await N.text(),P=JSON.parse(c);if(!Array.isArray(P)){v("Invalid file format. Expected an array of services.","error");return}for(const K of P){if(!K.name||!K.url){v("Invalid service data. Each service must have name and url.","error");return}if(!Se(K.url)){v(`Invalid URL: ${K.url}`,"error");return}}e(3,u=!0);const ee=await ge("/api/services/bulk",{method:"POST",body:JSON.stringify({services:P})});if(ee.ok){const K=await ee.json();y(),await U(),v(`Successfully imported ${K.imported} services (${K.skipped} skipped)`,"success")}else{const K=await ee.json();v(K.message||"Failed to import services","error")}}catch(c){c instanceof SyntaxError?v("Invalid JSON file format","error"):v("Failed to import services","error")}finally{e(3,u=!1)}}async function H(c){const P=[..._];e(0,_=_.filter(ee=>ee.id!==c)),W();try{(await ge(`/api/services/${c}`,{method:"DELETE"})).ok?v("Service deleted successfully","success"):(e(0,_=P),v("Failed to delete service","error"))}catch{e(0,_=P),v("Failed to delete service","error")}}Ge(()=>{if(!n){Ve("/");return}U()});function A(){f=this.value,e(1,f)}function w(){r=this.value,e(2,r)}const C=c=>L(c),Y=c=>g(c.id,c.name),X=()=>H(m.serviceId),q=c=>c.target===c.currentTarget&&W(),M=c=>c.key==="Escape"&&W();function $(){z=this.value,e(9,z)}function se(){d=this.value,e(10,d)}return[_,f,r,u,b,m,S,N,E,z,d,n,D,g,W,k,y,L,F,B,J,O,R,H,A,w,C,Y,X,q,M,$,se,c=>c.target===c.currentTarget&&F(),c=>c.key==="Escape"&&F(),c=>c.target===c.currentTarget&&y(),c=>c.key==="Escape"&&y(),()=>Ve("/")]}class dt extends We{constructor(l){super(),Ye(this,l,at,rt,He,{},null,[-1,-1])}}export{dt as component};
