import{s as Be,n as He,o as Je}from"../chunks/scheduler.b5ecf4e6.js";import{S as Ke,i as Qe,s as E,g as l,m as P,F as We,f as o,c as I,h as a,j as u,x as y,n as A,k as i,a as ne,y as e,A as Xe,l as ae,o as z}from"../chunks/index.7d6cf7e9.js";function Ye(c){let t,s,r,d,p="Overall Status",v,n,V=c[0].status.toUpperCase()+"",m,f,_,h,g=ze(c[0].timestamp)+"",C,D,b,w,M,R,B="Database",X,O,Y=c[0].database+"",Q,ee,re,W,N,F,fe="NATS",oe,L,J=c[0].nats+"",Z,ce,H,T,G,ve="Monitor",te,U,K=c[0].monitor.running?"running":"stopped",$,de,se,he,me=c[0].monitor.interval+"",_e,we,pe,Ne="interval",Pe,Ae,Ce,ue,ye=`<h3 class="svelte-16isp9p">Source Code</h3> <div class="source-content svelte-16isp9p"><div class="source-item svelte-16isp9p"><div class="source-info svelte-16isp9p"><h4 class="svelte-16isp9p">GitHub Repository</h4> <p class="source-description svelte-16isp9p">View source code, report issues, or contribute to PingiMap development</p></div> <a href="https://github.com/Anton4ikk/pingimap" target="_blank" rel="noopener noreferrer" class="btn btn-ghost source-link svelte-16isp9p" aria-label="Open GitHub repository in new tab"><svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" class="svelte-16isp9p"><path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"></path></svg>
              View on GitHub</a></div></div>`,x=c[0].dbPingTime!==void 0&&Re(c),q=c[0].serviceCount!==void 0&&Ge(c),j=c[0].monitor.thresholds&&Oe(c);return{c(){t=l("div"),s=l("div"),r=l("div"),d=l("h3"),d.textContent=p,v=E(),n=l("div"),m=P(V),f=E(),_=l("div"),h=P("Last checked: "),C=P(g),D=E(),b=l("div"),w=l("div"),M=l("div"),R=l("h4"),R.textContent=B,X=E(),O=l("div"),Q=P(Y),ee=E(),x&&x.c(),re=E(),W=l("div"),N=l("div"),F=l("h4"),F.textContent=fe,oe=E(),L=l("div"),Z=P(J),ce=E(),H=l("div"),T=l("div"),G=l("h4"),G.textContent=ve,te=E(),U=l("div"),$=P(K),de=E(),se=l("div"),he=l("span"),_e=P(me),we=E(),pe=l("span"),pe.textContent=Ne,Pe=E(),q&&q.c(),Ae=E(),j&&j.c(),Ce=E(),ue=l("div"),ue.innerHTML=ye,this.h()},l(k){t=a(k,"DIV",{class:!0});var S=u(t);s=a(S,"DIV",{class:!0});var be=u(s);r=a(be,"DIV",{class:!0});var ge=u(r);d=a(ge,"H3",{class:!0,"data-svelte-h":!0}),y(d)!=="svelte-1ygjqxt"&&(d.textContent=p),v=I(ge),n=a(ge,"DIV",{class:!0,style:!0});var Me=u(n);m=A(Me,V),Me.forEach(o),ge.forEach(o),f=I(be),_=a(be,"DIV",{class:!0});var Te=u(_);h=A(Te,"Last checked: "),C=A(Te,g),Te.forEach(o),be.forEach(o),D=I(S),b=a(S,"DIV",{class:!0});var le=u(b);w=a(le,"DIV",{class:!0});var Ee=u(w);M=a(Ee,"DIV",{class:!0});var Ie=u(M);R=a(Ie,"H4",{class:!0,"data-svelte-h":!0}),y(R)!=="svelte-wu5qrj"&&(R.textContent=B),X=I(Ie),O=a(Ie,"DIV",{class:!0,style:!0});var Le=u(O);Q=A(Le,Y),Le.forEach(o),Ie.forEach(o),ee=I(Ee),x&&x.l(Ee),Ee.forEach(o),re=I(le),W=a(le,"DIV",{class:!0});var xe=u(W);N=a(xe,"DIV",{class:!0});var De=u(N);F=a(De,"H4",{class:!0,"data-svelte-h":!0}),y(F)!=="svelte-1w69owq"&&(F.textContent=fe),oe=I(De),L=a(De,"DIV",{class:!0,style:!0});var qe=u(L);Z=A(qe,J),qe.forEach(o),De.forEach(o),xe.forEach(o),ce=I(le),H=a(le,"DIV",{class:!0});var Ve=u(H);T=a(Ve,"DIV",{class:!0});var ke=u(T);G=a(ke,"H4",{class:!0,"data-svelte-h":!0}),y(G)!=="svelte-1e0bbpg"&&(G.textContent=ve),te=I(ke),U=a(ke,"DIV",{class:!0,style:!0});var je=u(U);$=A(je,K),je.forEach(o),ke.forEach(o),de=I(Ve),se=a(Ve,"DIV",{class:!0});var Se=u(se);he=a(Se,"SPAN",{class:!0});var Fe=u(he);_e=A(Fe,me),Fe.forEach(o),we=I(Se),pe=a(Se,"SPAN",{class:!0,"data-svelte-h":!0}),y(pe)!=="svelte-md6gky"&&(pe.textContent=Ne),Se.forEach(o),Ve.forEach(o),Pe=I(le),q&&q.l(le),le.forEach(o),Ae=I(S),j&&j.l(S),Ce=I(S),ue=a(S,"DIV",{class:!0,"data-svelte-h":!0}),y(ue)!=="svelte-1wx1a1e"&&(ue.innerHTML=ye),S.forEach(o),this.h()},h(){i(d,"class","svelte-16isp9p"),i(n,"class","status-indicator svelte-16isp9p"),ae(n,"background-color",Ue(c[0].status)),i(r,"class","status-header svelte-16isp9p"),i(_,"class","timestamp svelte-16isp9p"),i(s,"class","status-section svelte-16isp9p"),i(R,"class","svelte-16isp9p"),i(O,"class","connection-status svelte-16isp9p"),ae(O,"color",ie(c[0].database)),i(M,"class","metric-header svelte-16isp9p"),i(w,"class","metric-card svelte-16isp9p"),i(F,"class","svelte-16isp9p"),i(L,"class","connection-status svelte-16isp9p"),ae(L,"color",ie(c[0].nats)),i(N,"class","metric-header svelte-16isp9p"),i(W,"class","metric-card svelte-16isp9p"),i(G,"class","svelte-16isp9p"),i(U,"class","connection-status svelte-16isp9p"),ae(U,"color",c[0].monitor.running?ie("connected"):ie("disconnected")),i(T,"class","metric-header svelte-16isp9p"),i(he,"class","value svelte-16isp9p"),i(pe,"class","label svelte-16isp9p"),i(se,"class","metric-value svelte-16isp9p"),i(H,"class","metric-card svelte-16isp9p"),i(b,"class","metrics-grid svelte-16isp9p"),i(ue,"class","source-section svelte-16isp9p"),i(t,"class","info-content svelte-16isp9p")},m(k,S){ne(k,t,S),e(t,s),e(s,r),e(r,d),e(r,v),e(r,n),e(n,m),e(s,f),e(s,_),e(_,h),e(_,C),e(t,D),e(t,b),e(b,w),e(w,M),e(M,R),e(M,X),e(M,O),e(O,Q),e(w,ee),x&&x.m(w,null),e(b,re),e(b,W),e(W,N),e(N,F),e(N,oe),e(N,L),e(L,Z),e(b,ce),e(b,H),e(H,T),e(T,G),e(T,te),e(T,U),e(U,$),e(H,de),e(H,se),e(se,he),e(he,_e),e(se,we),e(se,pe),e(b,Pe),q&&q.m(b,null),e(t,Ae),j&&j.m(t,null),e(t,Ce),e(t,ue)},p(k,S){S&1&&V!==(V=k[0].status.toUpperCase()+"")&&z(m,V),S&1&&ae(n,"background-color",Ue(k[0].status)),S&1&&g!==(g=ze(k[0].timestamp)+"")&&z(C,g),S&1&&Y!==(Y=k[0].database+"")&&z(Q,Y),S&1&&ae(O,"color",ie(k[0].database)),k[0].dbPingTime!==void 0?x?x.p(k,S):(x=Re(k),x.c(),x.m(w,null)):x&&(x.d(1),x=null),S&1&&J!==(J=k[0].nats+"")&&z(Z,J),S&1&&ae(L,"color",ie(k[0].nats)),S&1&&K!==(K=k[0].monitor.running?"running":"stopped")&&z($,K),S&1&&ae(U,"color",k[0].monitor.running?ie("connected"):ie("disconnected")),S&1&&me!==(me=k[0].monitor.interval+"")&&z(_e,me),k[0].serviceCount!==void 0?q?q.p(k,S):(q=Ge(k),q.c(),q.m(b,null)):q&&(q.d(1),q=null),k[0].monitor.thresholds?j?j.p(k,S):(j=Oe(k),j.c(),j.m(t,Ce)):j&&(j.d(1),j=null)},d(k){k&&o(t),x&&x.d(),q&&q.d(),j&&j.d()}}}function Ze(c){let t,s,r,d="Failed to load system information",p,v,n,V;return{c(){t=l("div"),s=l("div"),r=l("h3"),r.textContent=d,p=E(),v=l("p"),n=P("Error: "),V=P(c[2]),this.h()},l(m){t=a(m,"DIV",{class:!0});var f=u(t);s=a(f,"DIV",{class:!0});var _=u(s);r=a(_,"H3",{"data-svelte-h":!0}),y(r)!=="svelte-l6ollx"&&(r.textContent=d),p=I(_),v=a(_,"P",{});var h=u(v);n=A(h,"Error: "),V=A(h,c[2]),h.forEach(o),_.forEach(o),f.forEach(o),this.h()},h(){i(s,"class","error-content"),i(t,"class","error")},m(m,f){ne(m,t,f),e(t,s),e(s,r),e(s,p),e(s,v),e(v,n),e(v,V)},p(m,f){f&4&&z(V,m[2])},d(m){m&&o(t)}}}function $e(c){let t,s=`<div class="loading-spinner svelte-16isp9p" aria-hidden="true"></div>
      Loading system info...`;return{c(){t=l("div"),t.innerHTML=s,this.h()},l(r){t=a(r,"DIV",{class:!0,"data-svelte-h":!0}),y(t)!=="svelte-1lo3umf"&&(t.innerHTML=s),this.h()},h(){i(t,"class","loading svelte-16isp9p")},m(r,d){ne(r,t,d)},p:He,d(r){r&&o(t)}}}function Re(c){let t,s,r=c[0].dbPingTime+"",d,p,v,n="ms",V,m,f="ping time";return{c(){t=l("div"),s=l("span"),d=P(r),p=E(),v=l("span"),v.textContent=n,V=E(),m=l("span"),m.textContent=f,this.h()},l(_){t=a(_,"DIV",{class:!0});var h=u(t);s=a(h,"SPAN",{class:!0});var g=u(s);d=A(g,r),g.forEach(o),p=I(h),v=a(h,"SPAN",{class:!0,"data-svelte-h":!0}),y(v)!=="svelte-13w5gq7"&&(v.textContent=n),V=I(h),m=a(h,"SPAN",{class:!0,"data-svelte-h":!0}),y(m)!=="svelte-ldtt7k"&&(m.textContent=f),h.forEach(o),this.h()},h(){i(s,"class","value svelte-16isp9p"),i(v,"class","unit svelte-16isp9p"),i(m,"class","label svelte-16isp9p"),i(t,"class","metric-value svelte-16isp9p")},m(_,h){ne(_,t,h),e(t,s),e(s,d),e(t,p),e(t,v),e(t,V),e(t,m)},p(_,h){h&1&&r!==(r=_[0].dbPingTime+"")&&z(d,r)},d(_){_&&o(t)}}}function Ge(c){let t,s,r='<h4 class="svelte-16isp9p">Services</h4>',d,p,v,n=c[0].serviceCount+"",V,m,f,_="total services";return{c(){t=l("div"),s=l("div"),s.innerHTML=r,d=E(),p=l("div"),v=l("span"),V=P(n),m=E(),f=l("span"),f.textContent=_,this.h()},l(h){t=a(h,"DIV",{class:!0});var g=u(t);s=a(g,"DIV",{class:!0,"data-svelte-h":!0}),y(s)!=="svelte-1y9s894"&&(s.innerHTML=r),d=I(g),p=a(g,"DIV",{class:!0});var C=u(p);v=a(C,"SPAN",{class:!0});var D=u(v);V=A(D,n),D.forEach(o),m=I(C),f=a(C,"SPAN",{class:!0,"data-svelte-h":!0}),y(f)!=="svelte-1ozgms9"&&(f.textContent=_),C.forEach(o),g.forEach(o),this.h()},h(){i(s,"class","metric-header svelte-16isp9p"),i(v,"class","value svelte-16isp9p"),i(f,"class","label svelte-16isp9p"),i(p,"class","metric-value svelte-16isp9p"),i(t,"class","metric-card svelte-16isp9p")},m(h,g){ne(h,t,g),e(t,s),e(t,d),e(t,p),e(p,v),e(v,V),e(p,m),e(p,f)},p(h,g){g&1&&n!==(n=h[0].serviceCount+"")&&z(V,n)},d(h){h&&o(t)}}}function Oe(c){let t,s,r="Monitoring Thresholds",d,p,v,n,V="Fast",m,f,_,h=c[0].monitor.thresholds.fast+"",g,C,D,b,w,M="Slow",R,B,X=c[0].monitor.thresholds.fast+1+"",O,Y,Q=c[0].monitor.thresholds.slow+"",ee,re,W,N,F,fe="Timeout",oe,L,J=c[0].monitor.thresholds.timeout+"",Z,ce;return{c(){t=l("div"),s=l("h3"),s.textContent=r,d=E(),p=l("div"),v=l("div"),n=l("span"),n.textContent=V,m=E(),f=l("span"),_=P("â‰¤ "),g=P(h),C=P("ms"),D=E(),b=l("div"),w=l("span"),w.textContent=M,R=E(),B=l("span"),O=P(X),Y=P("-"),ee=P(Q),re=P("ms"),W=E(),N=l("div"),F=l("span"),F.textContent=fe,oe=E(),L=l("span"),Z=P(J),ce=P("ms"),this.h()},l(H){t=a(H,"DIV",{class:!0});var T=u(t);s=a(T,"H3",{class:!0,"data-svelte-h":!0}),y(s)!=="svelte-56dwko"&&(s.textContent=r),d=I(T),p=a(T,"DIV",{class:!0});var G=u(p);v=a(G,"DIV",{class:!0});var ve=u(v);n=a(ve,"SPAN",{class:!0,"data-svelte-h":!0}),y(n)!=="svelte-1jk8srv"&&(n.textContent=V),m=I(ve),f=a(ve,"SPAN",{class:!0});var te=u(f);_=A(te,"â‰¤ "),g=A(te,h),C=A(te,"ms"),te.forEach(o),ve.forEach(o),D=I(G),b=a(G,"DIV",{class:!0});var U=u(b);w=a(U,"SPAN",{class:!0,"data-svelte-h":!0}),y(w)!=="svelte-117u19c"&&(w.textContent=M),R=I(U),B=a(U,"SPAN",{class:!0});var K=u(B);O=A(K,X),Y=A(K,"-"),ee=A(K,Q),re=A(K,"ms"),K.forEach(o),U.forEach(o),W=I(G),N=a(G,"DIV",{class:!0});var $=u(N);F=a($,"SPAN",{class:!0,"data-svelte-h":!0}),y(F)!=="svelte-1w968so"&&(F.textContent=fe),oe=I($),L=a($,"SPAN",{class:!0});var de=u(L);Z=A(de,J),ce=A(de,"ms"),de.forEach(o),$.forEach(o),G.forEach(o),T.forEach(o),this.h()},h(){i(s,"class","svelte-16isp9p"),i(n,"class","threshold-label svelte-16isp9p"),i(f,"class","threshold-value svelte-16isp9p"),i(v,"class","threshold-item svelte-16isp9p"),i(w,"class","threshold-label svelte-16isp9p"),i(B,"class","threshold-value svelte-16isp9p"),i(b,"class","threshold-item svelte-16isp9p"),i(F,"class","threshold-label svelte-16isp9p"),i(L,"class","threshold-value svelte-16isp9p"),i(N,"class","threshold-item svelte-16isp9p"),i(p,"class","thresholds-grid svelte-16isp9p"),i(t,"class","thresholds-section svelte-16isp9p")},m(H,T){ne(H,t,T),e(t,s),e(t,d),e(t,p),e(p,v),e(v,n),e(v,m),e(v,f),e(f,_),e(f,g),e(f,C),e(p,D),e(p,b),e(b,w),e(b,R),e(b,B),e(B,O),e(B,Y),e(B,ee),e(B,re),e(p,W),e(p,N),e(N,F),e(N,oe),e(N,L),e(L,Z),e(L,ce)},p(H,T){T&1&&h!==(h=H[0].monitor.thresholds.fast+"")&&z(g,h),T&1&&X!==(X=H[0].monitor.thresholds.fast+1+"")&&z(O,X),T&1&&Q!==(Q=H[0].monitor.thresholds.slow+"")&&z(ee,Q),T&1&&J!==(J=H[0].monitor.thresholds.timeout+"")&&z(Z,J)},d(H){H&&o(t)}}}function et(c){let t,s,r,d,p="System Information",v,n,V,m,f,_;function h(D,b){if(D[1])return $e;if(D[2])return Ze;if(D[0])return Ye}let g=h(c),C=g&&g(c);return{c(){t=E(),s=l("main"),r=l("div"),d=l("h2"),d.textContent=p,v=E(),n=l("button"),V=P("Refresh"),m=E(),C&&C.c(),this.h()},l(D){We("svelte-1q8x664",document.head).forEach(o),t=I(D),s=a(D,"MAIN",{class:!0});var w=u(s);r=a(w,"DIV",{class:!0});var M=u(r);d=a(M,"H2",{class:!0,"data-svelte-h":!0}),y(d)!=="svelte-syd9np"&&(d.textContent=p),v=I(M),n=a(M,"BUTTON",{class:!0,title:!0,"aria-label":!0});var R=u(n);V=A(R,"Refresh"),R.forEach(o),M.forEach(o),m=I(w),C&&C.l(w),w.forEach(o),this.h()},h(){document.title="System Info - pingiMAP",i(d,"class","svelte-16isp9p"),i(n,"class","btn btn-primary"),n.disabled=c[1],i(n,"title","Refresh info"),i(n,"aria-label","Refresh system information"),i(r,"class","info-header svelte-16isp9p"),i(s,"class","container")},m(D,b){ne(D,t,b),ne(D,s,b),e(s,r),e(r,d),e(r,v),e(r,n),e(n,V),e(s,m),C&&C.m(s,null),f||(_=Xe(n,"click",c[3]),f=!0)},p(D,[b]){b&2&&(n.disabled=D[1]),g===(g=h(D))&&C?C.p(D,b):(C&&C.d(1),C=g&&g(D),C&&(C.c(),C.m(s,null)))},i:He,o:He,d(D){D&&(o(t),o(s)),C&&C.d(),f=!1,_()}}}function Ue(c){switch(c){case"ok":return"var(--success-500)";case"error":return"var(--error-500)";default:return"var(--gray-500)"}}function ie(c){switch(c){case"connected":return"var(--success-500)";case"disconnected":return"var(--error-500)";default:return"var(--gray-500)"}}function ze(c){return new Date(c).toLocaleString()}function tt(c,t,s){let r=null,d=!0,p=null;async function v(){try{s(1,d=!0),s(2,p=null);const n=await fetch("/api/info");if(!n.ok)throw new Error(`HTTP ${n.status}: ${n.statusText}`);s(0,r=await n.json())}catch(n){console.error("Failed to load info:",n),s(2,p=n instanceof Error?n.message:"Failed to load info")}finally{s(1,d=!1)}}return Je(()=>{v()}),[r,d,p,v]}class at extends Ke{constructor(t){super(),Qe(this,t,tt,et,Be,{})}}export{at as component};
